{% extends "layout.html" %}

{% block content %}
    <div class="card">

        <section class="avatar" style="background:url({{ member.avatar_url }}) no-repeat center center / cover"></section>
        <section class="details">
            <form method="POST" action="/members?_method=PUT">
                <h3>Edit Member</h3>

                {% include 'members/fields.html' %}
                <input type="hidden" name="id" value="{{ member.id }}">
            </form>
            <form id="form-delete" method="POST" action="/members?_method=DELETE">
                <input type="hidden" name="id" value="{{ member.id }}">
                <button type="submit">Delete</button>
            </form>
        </section>

    </div>

    <script>
        const formDelete = document.querySelector("#form-delete")
        formDelete.addEventListener("submit", function (event) {
            const confirmation = confirm("Do you with to delete?")
            if (!confirmation) {
                event.preventDefault()
            }
        })
    </script>
{% endblock content %}